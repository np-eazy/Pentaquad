{"ast":null,"code":"// A wrapper state for CoreState, which controls the advancement of the game. GameState\n// controls the flow of CoreState to effectively slow down, speed up, pause the game,\n// or leave intervals for graphic transitions.\n\n// Required props:\n// - coreState: the CoreState of the game\n// - controller: the GameController of the game\n\n// Game props:\nconst DEFAULT_TICKS_TO_MOVE = 10; // Wait this many ticks between each idleMove() call on coreState\n\nconst GameState = class {\n  constructor(props) {\n    this.coreState = props.coreState;\n    this.controller = props.controller;\n    this.coreState.controller = this.controller;\n    this.ticksToMove = props.ticksToMove ? props.ticksToMove : DEFAULT_TICKS_TO_MOVE;\n    this.ticks = 0;\n    this.isRunning = true;\n    this.delayTimer = 0;\n  }\n  update() {\n    if (this.isRunning && this.delayTimer == 0) {\n      this.coreState.update(this.ticks % this.ticksToMove == 0);\n      this.ticks += 1;\n    } else {\n      this.delayTimer -= 1;\n    }\n    return this;\n  }\n\n  // Delay any actions for the next t ticks to leave room for graphic transitions.\n  setDelayTimer(t) {\n    this.delayTimer = t;\n  }\n\n  // Pause/resume the game\n  toggleRunningFlag() {\n    this.isRunning = !this.isRunning;\n  }\n  executeAction(action) {\n    this.coreState.executeAction();\n  }\n};\nexport default GameState;","map":{"version":3,"names":["DEFAULT_TICKS_TO_MOVE","GameState","constructor","props","coreState","controller","ticksToMove","ticks","isRunning","delayTimer","update","setDelayTimer","t","toggleRunningFlag","executeAction","action"],"sources":["/Users/joeyzhu/code/Pentaquad/src/components/game/GameState.js"],"sourcesContent":["// A wrapper state for CoreState, which controls the advancement of the game. GameState\n// controls the flow of CoreState to effectively slow down, speed up, pause the game,\n// or leave intervals for graphic transitions.\n\n// Required props:\n// - coreState: the CoreState of the game\n// - controller: the GameController of the game\n\n// Game props:\nconst DEFAULT_TICKS_TO_MOVE = 10 // Wait this many ticks between each idleMove() call on coreState\n\nconst GameState = class {\n    constructor (props) {\n        this.coreState = props.coreState\n        this.controller = props.controller\n        this.coreState.controller = this.controller\n        this.ticksToMove = props.ticksToMove ? props.ticksToMove : DEFAULT_TICKS_TO_MOVE\n        this.ticks = 0\n        this.isRunning = true\n        this.delayTimer = 0\n    }\n\n    update() {\n        if (this.isRunning && this.delayTimer == 0) {\n            this.coreState.update(this.ticks % this.ticksToMove == 0)\n            this.ticks += 1\n        } else {\n            this.delayTimer -= 1\n        }\n        return this\n    }\n\n    // Delay any actions for the next t ticks to leave room for graphic transitions.\n    setDelayTimer(t) {\n        this.delayTimer = t\n    }\n\n    // Pause/resume the game\n    toggleRunningFlag() {\n        this.isRunning = !this.isRunning\n    }\n\n    executeAction(action) {\n        this.coreState.executeAction()\n    }\n}\n\nexport default GameState"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAMA,qBAAqB,GAAG,EAAE,EAAC;;AAEjC,MAAMC,SAAS,GAAG,MAAM;EACpBC,WAAWA,CAAEC,KAAK,EAAE;IAChB,IAAI,CAACC,SAAS,GAAGD,KAAK,CAACC,SAAS;IAChC,IAAI,CAACC,UAAU,GAAGF,KAAK,CAACE,UAAU;IAClC,IAAI,CAACD,SAAS,CAACC,UAAU,GAAG,IAAI,CAACA,UAAU;IAC3C,IAAI,CAACC,WAAW,GAAGH,KAAK,CAACG,WAAW,GAAGH,KAAK,CAACG,WAAW,GAAGN,qBAAqB;IAChF,IAAI,CAACO,KAAK,GAAG,CAAC;IACd,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,UAAU,GAAG,CAAC;EACvB;EAEAC,MAAMA,CAAA,EAAG;IACL,IAAI,IAAI,CAACF,SAAS,IAAI,IAAI,CAACC,UAAU,IAAI,CAAC,EAAE;MACxC,IAAI,CAACL,SAAS,CAACM,MAAM,CAAC,IAAI,CAACH,KAAK,GAAG,IAAI,CAACD,WAAW,IAAI,CAAC,CAAC;MACzD,IAAI,CAACC,KAAK,IAAI,CAAC;IACnB,CAAC,MAAM;MACH,IAAI,CAACE,UAAU,IAAI,CAAC;IACxB;IACA,OAAO,IAAI;EACf;;EAEA;EACAE,aAAaA,CAACC,CAAC,EAAE;IACb,IAAI,CAACH,UAAU,GAAGG,CAAC;EACvB;;EAEA;EACAC,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACL,SAAS,GAAG,CAAC,IAAI,CAACA,SAAS;EACpC;EAEAM,aAAaA,CAACC,MAAM,EAAE;IAClB,IAAI,CAACX,SAAS,CAACU,aAAa,EAAE;EAClC;AACJ,CAAC;AAED,eAAeb,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}